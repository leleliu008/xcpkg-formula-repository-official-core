summary: A more modern man page viewer for our terminals
src-url: https://github.com/plp13/qman/archive/refs/tags/v1.5.1.tar.gz
src-sha: e550958523d0fef90fd0123a61a8f10099ed0c9735e06d8152662d8965b5a0e1
license: BSD-2-Clause
dep-pkg: libncurses liblzma libbz2 libz
dep-pip: cogapp

dopatch: gsed -i "s|dependency('bzip2'|dependency('libbz2'|" src/meson.build

install: |
    mesonw \
        -Dlzma=enabled \
        -Dgzip=enabled \
        -Dbzip2=enabled \
        -Dtests=disabled \
        -Dconfigdir="$PACKAGE_INSTALL_DIR/etc/qman"

caveats: |
    You need to write the following config to ~/.config/qman/qman.conf

    [misc]
    system_type=darwin
    groff_path=/usr/local/bin/groff

    For more details, please refer to https://github.com/plp13/qman/blob/main/doc/OS_SPECIFIC.md#macos
