summary: A more modern man page viewer for our terminals
src-url: https://github.com/plp13/qman/archive/refs/tags/v1.5.0.tar.gz
src-sha: 785441bf11e99ff27869c08f0d36ce3f5c75db1b045b8712fe515059cf396780
license: BSD-2-Clause
dep-pkg: libncurses liblzma libbz2 libz
dep-pip: cogapp

dopatch: gsed -i "s|dependency('bzip2'|dependency('libbz2'|" src/meson.build

install: |
    mesonw \
        -Dlzma=enabled \
        -Dgzip=enabled \
        -Dbzip2=enabled \
        -Dtests=disabled \
        -Dconfigdir="$PACKAGE_INSTALL_DIR/etc/qman"

caveats: |
    You need to write the following config to ~/.config/qman/qman.conf

    [misc]
    system_type=darwin
    groff_path=/usr/local/bin/groff

    For more details, please refer to https://github.com/plp13/qman/blob/main/doc/OS_SPECIFIC.md#macos
