summary: A lightweight RPC library for C/C++ based on XML and HTTP
web-url: https://xmlrpc-c.sourceforge.io/
src-url: https://downloads.sourceforge.net/project/xmlrpc-c/Xmlrpc-c%20Super%20Stable/1.64.03/xmlrpc-1.64.03.tgz
src-sha: 74729d364edbedbe42e782822da1e076f3f45c65c4278a3cfba5f2342d7cedbe
license: BSD-3-Clause
dep-pkg: libcurl libxml2
binbstd: 1

prepare: |
    if printf 'int main() { return 0; }\n' | "$CC" -c -x c -Werror -Wimplicit-function-declaration -o /dev/null - ; then
        export CFLAGS="$CFLAGS -Wno-implicit-function-declaration"
    fi

    export PROXIED_CC_ARGS="$PROXIED_CC_ARGS $CFLAGS $CPPFLAGS $LDFLAGS"

install: configure --enable-libxml2-backend
