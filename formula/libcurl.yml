summary: A free and easy-to-use client-side URL transfer library
git-url: https://github.com/curl/curl
web-url: https://curl.haxx.se/
src-url: https://curl.haxx.se/download/curl-8.18.0.tar.bz2
src-sha: ffd671a3dad424fb68e113a5b9894c5d1b5e13a88c6bdf0d4af6645123b31faf
license: curl
dep-pkg: libnghttp2 libbrotli libzstd libz openssl-dev
dep-upp: perl

dopatch: gsed -i '/^SUBDIRS = /s| src||' Makefile.in

install: |
    configure \
        --enable-optimize \
        --enable-pthreads \
        --with-default-ssl-backend=openssl \
        --with-ssl="$openssl_dev_INSTALL_DIR" \
        --with-nghttp2 \
        --without-nghttp3 \
        --without-ngtcp2 \
        --without-quiche \
        --without-libpsl \
        --without-librtmp \
        --without-libidn2

dotweak: |
    gsed -i -e '/Libs.private:/d' -e '/^Libs:/s|$| -lldap -framework CoreFoundation -framework SystemConfiguration|' lib/pkgconfig/libcurl.pc
