summary: Fake keyboard/mouse input and window management for X
web-url: https://www.semicomplete.com/projects/xdotool/
src-url: https://github.com/jordansissel/xdotool/releases/download/v4.20251130.1/xdotool-4.20251130.1.tar.gz
src-sha: eee789b00d6a13d47b31bbc139727e6408c21b5f6ba5e804fdf6ecfb8c781356
license: BSD-3-Clause
dep-pkg: libxkbcommon xorg-libxtst xorg-libxinerama

# https://github.com/jordansissel/xdotool/issues/313
dopatch: gsed -i 's|define _XOPEN_SOURCE 500|define _XOPEN_SOURCE 600|' xdo.c

prepare: |
    A="$(pkg-config --libs xkbcommon-x11)"
    B="$(pkg-config --libs xtst)"
    C="$(pkg-config --libs xinerama)"

install: |
    gmakew clean
    gmakew installprog installman LIBSUFFIX=a XDOTOOL_LIBS="'$A $B $C'" "INSTALLLIB=$PWD" "PREFIX=$PACKAGE_INSTALL_DIR"
